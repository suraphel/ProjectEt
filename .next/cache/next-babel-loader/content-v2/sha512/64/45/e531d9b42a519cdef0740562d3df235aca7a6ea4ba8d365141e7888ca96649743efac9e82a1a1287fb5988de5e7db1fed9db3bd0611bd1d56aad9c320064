{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"A:\\\\Projects\\\\NextJs\\\\Balemoja_Next\\\\Balemoja\\\\pages\\\\FetchingFromDB.js\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useContext } from \"react\";\nimport ChoresList from \"../components/dataFlow/choreregistreation/choreList\";\nimport AuthenticationContext from \"../components/Token/LogInAuthentication \"; // import Addchoresform from '../choreregistreation/AddChoresForm';\n// import '../../App.css';\n\nfunction FetchingFromDB() {\n  const authCtx = useContext(AuthenticationContext);\n  const IsloggedIn = authCtx.loggedIn;\n  const {\n    0: chores,\n    1: setchores\n  } = useState([]);\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n  const {\n    0: error,\n    1: setError\n  } = useState(null);\n  const fetchchoresHandler = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const response = await fetch(\"https://balmoja-49d90-default-rtdb.europe-west1.firebasedatabase.app/ .json\");\n\n      if (!response.ok) {\n        throw new Error(\"Something new has gone wrong!\");\n      }\n\n      const data = await response.json(); // console.log(data); //  data is here an object, Id = keys and\n\n      const loadedChores = [];\n\n      for (const key in data) {\n        loadedChores.push({\n          id: key,\n          descriptionData: data[key].descriptionData,\n          introData: data[key].introData // introData: data[key].introData\n\n        }); // console.log(data);\n      }\n\n      setchores(loadedChores);\n    } catch (error) {\n      setError(error.message);\n    }\n\n    setIsLoading(false);\n  }, []);\n  useEffect(() => {\n    fetchchoresHandler();\n  }, [fetchchoresHandler]); // time to upload to the fire base db\n  // async function AddchoreHandler(choreDataObject) {\n  // \tconst responce = await fetch('https://balmoja-49d90-default-rtdb.europe-west1.firebasedatabase.app/names.json',\n  // \t{\n  // \t\tmethod:'POST',\n  // \t\tbody:JSON.stringify(choreDataObject),\n  // \t\theaders:{\n  // \t\t\t'Content-Type' : 'application/json'}\n  // \t\t}\n  // \t);\n  // \tconst data = await responce.json();\n  // \tconsole.log(data);\n  // }\n\n  let content = /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Found no chores.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 17\n  }, this);\n\n  if (chores.length > 0) {\n    content = /*#__PURE__*/_jsxDEV(ChoresList, {\n      chores: chores\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }, this);\n  }\n\n  if (error) {\n    content = /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }, this);\n  }\n\n  if (isLoading) {\n    content = /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n\nexport default FetchingFromDB;\n/*\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\n\r\nimport ChoresList from '../companyregistration/CompanyList';\r\n\r\n\r\nfunction FetchingFromDB() {\r\n\t const [chores, setChore ] = useState([]);\r\n\t const [isLoading, setIsLoading] = useState(false);\r\n\t const [error, setError] = useState(null);\r\n\r\n\tconst fetchChoreHandler = useCallback(async () => {\r\n\t\tsetIsLoading(true);\r\n\t\tsetError(null);\r\n\t\ttry {\r\n\t\t\tconst response = await fetch('https://balmoja-49d90-default-rtdb.europe-west1.firebasedatabase.app/names.json');\r\n\t\t\tif (!response.ok) {\r\n\t\t\t  throw new Error('Something went wrong!');\r\n\t\t\t}\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\tconst disectedData = [];\r\n\r\n\t\t\tfor(const key in data){\r\n\t\t\t\tdisectedData.push({\r\n\t\t\t\t\tid:key,\r\n\t\t\t\t\tdescriptionData:data[key].descriptionData, \r\n\t\t\t\t\tintroData:data[key].introData,\r\n\t\t\t\t})\r\n\t\t\t}\t\r\n\r\n\t\t\tsetChore(disectedData);\r\n\t\t} \r\n\t\tcatch (error) {\r\n\t\t\tsetError(error.message);\r\n\t\t}\r\n\t\tsetIsLoading(false);\r\n\t}, []);\r\n\r\n\t// useEffect(\r\n\t// \t() => {\r\n\t// \t\tfetchChoreHandler();\r\n\t// \t},\r\n\t// \t[ fetchChoreHandler ]\r\n\t// );\r\n\r\n\r\n\tlet content = <p>Found no chores.</p>;\r\n\r\n\tif (chores.length > 0) {\r\n\t\tcontent = <ChoresList chores={chores} />;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\tcontent = <p>{error}</p>;\r\n\t}\r\n\r\n\tif (isLoading) {\r\n\t\tcontent = <p>Loading...</p>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\r\n\t\t\t<section>\r\n\t\t\t\t<button onClick={fetchChoreHandler}>Fetch Chores</button>\r\n\t\t\t</section>\r\n\t\t\t<section>{content}</section>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nexport default FetchingFromDB();\r\n\r\n\r\n\r\n\r\n//import React, { useState, useEffect, useCallback } from 'react';\r\n\r\nimport ChoresList from './components/ChoresList'\r\nimport Addchore from './components/Addchore';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n\t const [ chores, setchores ] = useState([]);\r\n\t const [isLoading, setIsLoading] = useState(false);\r\n\t const [error, setError] = useState(null);\r\n\r\n\tconst fetchchoresHandler = useCallback(async () => {\r\n\t\tsetIsLoading(true);\r\n\t\tsetError(null);\r\n\t\ttry {\t\t\r\n\t\t\tconst response = await fetch('https://balmoja-49d90-default-rtdb.europe-west1.firebasedatabase.app/names.json');\r\n\t\t\tif (!response.ok) {\r\n\t\t\t  throw new Error('Something new has gone wrong!');\r\n\t\t\t}\r\n\r\n\t\t\tconst data = await response.json();\r\n\t\t\t// console.log(data); //  data is here an object, Id = keys and  \r\n\r\n\t\t\tconst loadedChores = []; \r\n\r\n\t\t\tfor(const key in data){\r\n\t\t\t\tloadedChores.push({\r\n\t\t\t\t\tid:key,\r\n\t\t\t\t\ttitle: data[key].title, \r\n\t\t\t\t\topeningText: data[key].openingText, \r\n\t\t\t\t\treleaseDate: data[key].releaseDate\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\t\t\tsetchores(loadedChores);\r\n\t\t} catch (error) {\r\n\t\t\tsetError(error.message);\r\n\t\t}\r\n\t\tsetIsLoading(false);\r\n\t}, []);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tfetchchoresHandler();\r\n\t\t},\r\n\t\t[ fetchchoresHandler ]\r\n\t);\r\n\r\n\t// time to upload to the fire base db \r\n\t// async function AddchoreHandler(choreData) {\r\n\t// \tconst responce = await fetch('https://balmoja-49d90-default-rtdb.europe-west1.firebasedatabase.app/names.json', \r\n\t// \t{\r\n\t// \t\tmethod:'POST',\r\n\t// \t\tbody:JSON.stringify(choreData),\r\n\t// \t\theaders:{\r\n\t// \t\t\t'Content-Type' : 'application/json'}\t\t\r\n\t// \t\t}\r\n\t// \t);\r\n\t// \tconst data = await responce.json();\r\n\t// \tconsole.log(data); \r\n\t// }\r\n\r\n\tlet content = <p>Found no chores.</p>;\r\n\r\n\tif (chores.length > 0) {\r\n\t\tcontent = <ChoresList chores={chores} />;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\tcontent = <p>{error}</p>;\r\n\t}\r\n\r\n\tif (isLoading) {\r\n\t\tcontent = <p>Loading...</p>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<section>\r\n\t\t\t\t <Addchore onAddchore={AddchoreHandler} /> \r\n\t\t\t</section>\r\n\t\t\t<section>\r\n\t\t\t\r\n\t\t\t\t<button onClick={fetchchoresHandler}>Fetch chores</button>\r\n\t\t\t</section>\r\n\t\t\t<section>{content}</section>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\nexport default App;\r\n\r\n*/\n\n/*\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\n\r\nimport choresList from './components/choresList';\r\nimport Addchore from './components/Addchore';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n\tconst [ chores, setchores ] = useState([]);\r\n\t const [isLoading, setIsLoading] = useState(false);\r\n\t const [error, setError] = useState(null);\r\n\r\n\tconst fetchchoresHandler = useCallback(async () => {\r\n\t\tsetIsLoading(true);\r\n\t\tsetError(null);\r\n\t\ttry {\r\n\t\t\tconst response = await fetch('https://swapi.dev/api/films');\r\n\t\t\tif (!response.ok) {\r\n\t\t\t  throw new Error('Something went wrong!');\r\n\t\t\t}\r\n\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\tconst transformedchores = data.results.map((choreData) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tid: choreData.episode_id,\r\n\t\t\t\t\ttitle: choreData.director,\r\n\t\t\t\t\topeningText: choreData.opening_crawl,\r\n\t\t\t\t\treleaseDate: choreData.release_date\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\tsetchores(transformedchores);\r\n\t\t} catch (error) {\r\n\t\t\tsetError(error.message);\r\n\t\t}\r\n\t\tsetIsLoading(false);\r\n\t}, []);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tfetchchoresHandler();\r\n\t\t},\r\n\t\t[ fetchchoresHandler ]\r\n\t);\r\n\r\n\tfunction AddchoreHandler(chore) {\r\n\t\tconsole.log(chore);\r\n\t}\r\n\r\n\tlet content = <p>Found no chores.</p>;\r\n\r\n\tif (chores.length > 0) {\r\n\t\tcontent = <choresList chores={chores} />;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\tcontent = <p>{error}</p>;\r\n\t}\r\n\r\n\tif (isLoading) {\r\n\t\tcontent = <p>Loading...</p>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<section>\r\n\t\t\t\t<Addchore onAddchore={AddchoreHandler} />\r\n\t\t\t</section>\r\n\t\t\t<section>\r\n\t\t\t\t<button onClick={fetchchoresHandler}>Fetch chores</button>\r\n\t\t\t</section>\r\n\t\t\t<section>{content}</section>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n\r\n\r\n\r\n*/","map":{"version":3,"sources":["A:/Projects/NextJs/Balemoja_Next/Balemoja/pages/FetchingFromDB.js"],"names":["React","useState","useEffect","useCallback","useContext","ChoresList","AuthenticationContext","FetchingFromDB","authCtx","IsloggedIn","loggedIn","chores","setchores","isLoading","setIsLoading","error","setError","fetchchoresHandler","response","fetch","ok","Error","data","json","loadedChores","key","push","id","descriptionData","introData","message","content","length"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,WAArC,QAAwD,OAAxD;AACA,SAASC,UAAT,QAA2B,OAA3B;AAEA,OAAOC,UAAP,MAAuB,qDAAvB;AACA,OAAOC,qBAAP,MAAkC,0CAAlC,C,CACA;AACA;;AAEA,SAASC,cAAT,GAA0B;AACxB,QAAMC,OAAO,GAAGJ,UAAU,CAACE,qBAAD,CAA1B;AACA,QAAMG,UAAU,GAAGD,OAAO,CAACE,QAA3B;AAEA,QAAM;AAAA,OAACC,MAAD;AAAA,OAASC;AAAT,MAAsBX,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM;AAAA,OAACY,SAAD;AAAA,OAAYC;AAAZ,MAA4Bb,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM;AAAA,OAACc,KAAD;AAAA,OAAQC;AAAR,MAAoBf,QAAQ,CAAC,IAAD,CAAlC;AAEA,QAAMgB,kBAAkB,GAAGd,WAAW,CAAC,YAAY;AACjDW,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAE,IAAAA,QAAQ,CAAC,IAAD,CAAR;;AACA,QAAI;AACF,YAAME,QAAQ,GAAG,MAAMC,KAAK,CAC1B,6EAD0B,CAA5B;;AAGA,UAAI,CAACD,QAAQ,CAACE,EAAd,EAAkB;AAChB,cAAM,IAAIC,KAAJ,CAAU,+BAAV,CAAN;AACD;;AAED,YAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAAnB,CARE,CASF;;AAEA,YAAMC,YAAY,GAAG,EAArB;;AAEA,WAAK,MAAMC,GAAX,IAAkBH,IAAlB,EAAwB;AACtBE,QAAAA,YAAY,CAACE,IAAb,CAAkB;AAChBC,UAAAA,EAAE,EAAEF,GADY;AAEhBG,UAAAA,eAAe,EAAEN,IAAI,CAACG,GAAD,CAAJ,CAAUG,eAFX;AAGhBC,UAAAA,SAAS,EAAEP,IAAI,CAACG,GAAD,CAAJ,CAAUI,SAHL,CAIhB;;AAJgB,SAAlB,EADsB,CAOtB;AACD;;AAEDjB,MAAAA,SAAS,CAACY,YAAD,CAAT;AACD,KAxBD,CAwBE,OAAOT,KAAP,EAAc;AACdC,MAAAA,QAAQ,CAACD,KAAK,CAACe,OAAP,CAAR;AACD;;AACDhB,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,GA/BqC,EA+BnC,EA/BmC,CAAtC;AAiCAZ,EAAAA,SAAS,CAAC,MAAM;AACde,IAAAA,kBAAkB;AACnB,GAFQ,EAEN,CAACA,kBAAD,CAFM,CAAT,CAzCwB,CA6CxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAIc,OAAO,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAd;;AAEA,MAAIpB,MAAM,CAACqB,MAAP,GAAgB,CAApB,EAAuB;AACrBD,IAAAA,OAAO,gBAAG,QAAC,UAAD;AAAY,MAAA,MAAM,EAAEpB;AAApB;AAAA;AAAA;AAAA;AAAA,YAAV;AACD;;AAED,MAAII,KAAJ,EAAW;AACTgB,IAAAA,OAAO,gBAAG;AAAA,gBAAIhB;AAAJ;AAAA;AAAA;AAAA;AAAA,YAAV;AACD;;AAED,MAAIF,SAAJ,EAAe;AACbkB,IAAAA,OAAO,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAV;AACD;;AAED,sBACE,QAAC,KAAD,CAAO,QAAP;AAAA,4BAIE;AAAA;AAAA;AAAA;AAAA,YAJF,eASE;AAAA,gBAAUA;AAAV;AAAA;AAAA;AAAA;AAAA,YATF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAaD;;AAED,eAAexB,cAAf;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useContext } from \"react\";\r\n\r\nimport ChoresList from \"../components/dataFlow/choreregistreation/choreList\";\r\nimport AuthenticationContext from \"../components/Token/LogInAuthentication \";\r\n// import Addchoresform from '../choreregistreation/AddChoresForm';\r\n// import '../../App.css';\r\n\r\nfunction FetchingFromDB() {\r\n  const authCtx = useContext(AuthenticationContext);\r\n  const IsloggedIn = authCtx.loggedIn;\r\n\r\n  const [chores, setchores] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchchoresHandler = useCallback(async () => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await fetch(\r\n        \"https://balmoja-49d90-default-rtdb.europe-west1.firebasedatabase.app/ .json\"\r\n      );\r\n      if (!response.ok) {\r\n        throw new Error(\"Something new has gone wrong!\");\r\n      }\r\n\r\n      const data = await response.json();\r\n      // console.log(data); //  data is here an object, Id = keys and\r\n\r\n      const loadedChores = [];\r\n\r\n      for (const key in data) {\r\n        loadedChores.push({\r\n          id: key,\r\n          descriptionData: data[key].descriptionData,\r\n          introData: data[key].introData,\r\n          // introData: data[key].introData\r\n        });\r\n        // console.log(data);\r\n      }\r\n\r\n      setchores(loadedChores);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchchoresHandler();\r\n  }, [fetchchoresHandler]);\r\n\r\n  // time to upload to the fire base db\r\n  // async function AddchoreHandler(choreDataObject) {\r\n  // \tconst responce = await fetch('https://balmoja-49d90-default-rtdb.europe-west1.firebasedatabase.app/names.json',\r\n  // \t{\r\n  // \t\tmethod:'POST',\r\n  // \t\tbody:JSON.stringify(choreDataObject),\r\n  // \t\theaders:{\r\n  // \t\t\t'Content-Type' : 'application/json'}\r\n  // \t\t}\r\n  // \t);\r\n  // \tconst data = await responce.json();\r\n  // \tconsole.log(data);\r\n  // }\r\n\r\n  let content = <p>Found no chores.</p>;\r\n\r\n  if (chores.length > 0) {\r\n    content = <ChoresList chores={chores} />;\r\n  }\r\n\r\n  if (error) {\r\n    content = <p>{error}</p>;\r\n  }\r\n\r\n  if (isLoading) {\r\n    content = <p>Loading...</p>;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {/* <section>\r\n\t\t\t\t<Addchoresform onAddchoresform={AddchoreHandler} />\r\n\t\t\t</section> */}\r\n      <section>\r\n        {/* Refreshs the page */}\r\n        {/* <button onClick={fetchchoresHandler}>Fetch Chores</button> */}\r\n      </section>\r\n      {/* {authCtx.IsloggedIn &&  */}\r\n      <section>{content}</section>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default FetchingFromDB;\r\n\r\n/*\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\n\r\nimport ChoresList from '../companyregistration/CompanyList';\r\n\r\n\r\nfunction FetchingFromDB() {\r\n\t const [chores, setChore ] = useState([]);\r\n\t const [isLoading, setIsLoading] = useState(false);\r\n\t const [error, setError] = useState(null);\r\n\r\n\tconst fetchChoreHandler = useCallback(async () => {\r\n\t\tsetIsLoading(true);\r\n\t\tsetError(null);\r\n\t\ttry {\r\n\t\t\tconst response = await fetch('https://balmoja-49d90-default-rtdb.europe-west1.firebasedatabase.app/names.json');\r\n\t\t\tif (!response.ok) {\r\n\t\t\t  throw new Error('Something went wrong!');\r\n\t\t\t}\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\tconst disectedData = [];\r\n\r\n\t\t\tfor(const key in data){\r\n\t\t\t\tdisectedData.push({\r\n\t\t\t\t\tid:key,\r\n\t\t\t\t\tdescriptionData:data[key].descriptionData, \r\n\t\t\t\t\tintroData:data[key].introData,\r\n\t\t\t\t})\r\n\t\t\t}\t\r\n\r\n\t\t\tsetChore(disectedData);\r\n\t\t} \r\n\t\tcatch (error) {\r\n\t\t\tsetError(error.message);\r\n\t\t}\r\n\t\tsetIsLoading(false);\r\n\t}, []);\r\n\r\n\t// useEffect(\r\n\t// \t() => {\r\n\t// \t\tfetchChoreHandler();\r\n\t// \t},\r\n\t// \t[ fetchChoreHandler ]\r\n\t// );\r\n\r\n\r\n\tlet content = <p>Found no chores.</p>;\r\n\r\n\tif (chores.length > 0) {\r\n\t\tcontent = <ChoresList chores={chores} />;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\tcontent = <p>{error}</p>;\r\n\t}\r\n\r\n\tif (isLoading) {\r\n\t\tcontent = <p>Loading...</p>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\r\n\t\t\t<section>\r\n\t\t\t\t<button onClick={fetchChoreHandler}>Fetch Chores</button>\r\n\t\t\t</section>\r\n\t\t\t<section>{content}</section>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nexport default FetchingFromDB();\r\n\r\n\r\n\r\n\r\n//import React, { useState, useEffect, useCallback } from 'react';\r\n\r\nimport ChoresList from './components/ChoresList'\r\nimport Addchore from './components/Addchore';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n\t const [ chores, setchores ] = useState([]);\r\n\t const [isLoading, setIsLoading] = useState(false);\r\n\t const [error, setError] = useState(null);\r\n\r\n\tconst fetchchoresHandler = useCallback(async () => {\r\n\t\tsetIsLoading(true);\r\n\t\tsetError(null);\r\n\t\ttry {\t\t\r\n\t\t\tconst response = await fetch('https://balmoja-49d90-default-rtdb.europe-west1.firebasedatabase.app/names.json');\r\n\t\t\tif (!response.ok) {\r\n\t\t\t  throw new Error('Something new has gone wrong!');\r\n\t\t\t}\r\n\r\n\t\t\tconst data = await response.json();\r\n\t\t\t// console.log(data); //  data is here an object, Id = keys and  \r\n\r\n\t\t\tconst loadedChores = []; \r\n\r\n\t\t\tfor(const key in data){\r\n\t\t\t\tloadedChores.push({\r\n\t\t\t\t\tid:key,\r\n\t\t\t\t\ttitle: data[key].title, \r\n\t\t\t\t\topeningText: data[key].openingText, \r\n\t\t\t\t\treleaseDate: data[key].releaseDate\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\t\t\tsetchores(loadedChores);\r\n\t\t} catch (error) {\r\n\t\t\tsetError(error.message);\r\n\t\t}\r\n\t\tsetIsLoading(false);\r\n\t}, []);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tfetchchoresHandler();\r\n\t\t},\r\n\t\t[ fetchchoresHandler ]\r\n\t);\r\n\r\n\t// time to upload to the fire base db \r\n\t// async function AddchoreHandler(choreData) {\r\n\t// \tconst responce = await fetch('https://balmoja-49d90-default-rtdb.europe-west1.firebasedatabase.app/names.json', \r\n\t// \t{\r\n\t// \t\tmethod:'POST',\r\n\t// \t\tbody:JSON.stringify(choreData),\r\n\t// \t\theaders:{\r\n\t// \t\t\t'Content-Type' : 'application/json'}\t\t\r\n\t// \t\t}\r\n\t// \t);\r\n\t// \tconst data = await responce.json();\r\n\t// \tconsole.log(data); \r\n\t// }\r\n\r\n\tlet content = <p>Found no chores.</p>;\r\n\r\n\tif (chores.length > 0) {\r\n\t\tcontent = <ChoresList chores={chores} />;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\tcontent = <p>{error}</p>;\r\n\t}\r\n\r\n\tif (isLoading) {\r\n\t\tcontent = <p>Loading...</p>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<section>\r\n\t\t\t\t <Addchore onAddchore={AddchoreHandler} /> \r\n\t\t\t</section>\r\n\t\t\t<section>\r\n\t\t\t\r\n\t\t\t\t<button onClick={fetchchoresHandler}>Fetch chores</button>\r\n\t\t\t</section>\r\n\t\t\t<section>{content}</section>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\nexport default App;\r\n\r\n*/\r\n\r\n/*\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\n\r\nimport choresList from './components/choresList';\r\nimport Addchore from './components/Addchore';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n\tconst [ chores, setchores ] = useState([]);\r\n\t const [isLoading, setIsLoading] = useState(false);\r\n\t const [error, setError] = useState(null);\r\n\r\n\tconst fetchchoresHandler = useCallback(async () => {\r\n\t\tsetIsLoading(true);\r\n\t\tsetError(null);\r\n\t\ttry {\r\n\t\t\tconst response = await fetch('https://swapi.dev/api/films');\r\n\t\t\tif (!response.ok) {\r\n\t\t\t  throw new Error('Something went wrong!');\r\n\t\t\t}\r\n\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\tconst transformedchores = data.results.map((choreData) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tid: choreData.episode_id,\r\n\t\t\t\t\ttitle: choreData.director,\r\n\t\t\t\t\topeningText: choreData.opening_crawl,\r\n\t\t\t\t\treleaseDate: choreData.release_date\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\tsetchores(transformedchores);\r\n\t\t} catch (error) {\r\n\t\t\tsetError(error.message);\r\n\t\t}\r\n\t\tsetIsLoading(false);\r\n\t}, []);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tfetchchoresHandler();\r\n\t\t},\r\n\t\t[ fetchchoresHandler ]\r\n\t);\r\n\r\n\tfunction AddchoreHandler(chore) {\r\n\t\tconsole.log(chore);\r\n\t}\r\n\r\n\tlet content = <p>Found no chores.</p>;\r\n\r\n\tif (chores.length > 0) {\r\n\t\tcontent = <choresList chores={chores} />;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\tcontent = <p>{error}</p>;\r\n\t}\r\n\r\n\tif (isLoading) {\r\n\t\tcontent = <p>Loading...</p>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<section>\r\n\t\t\t\t<Addchore onAddchore={AddchoreHandler} />\r\n\t\t\t</section>\r\n\t\t\t<section>\r\n\t\t\t\t<button onClick={fetchchoresHandler}>Fetch chores</button>\r\n\t\t\t</section>\r\n\t\t\t<section>{content}</section>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n\r\n\r\n\r\n*/\r\n"]},"metadata":{},"sourceType":"module"}