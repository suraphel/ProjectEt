{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"A:/Projects/NextJs/Balemoja_Next/Balemoja/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"A:/Projects/NextJs/Balemoja_Next/Balemoja/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"A:\\\\Projects\\\\NextJs\\\\Balemoja_Next\\\\Balemoja\\\\pages\\\\FetchingFromDB.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useContext } from \"react\";\nimport ChoresList from \"../components/dataFlow/choreregistreation/choreList\";\nimport AuthenticationContext from \"../components/Token/LogInAuthentication \"; // import Addchoresform from '../choreregistreation/AddChoresForm';\n// import '../../App.css';\n\nfunction FetchingFromDB() {\n  _s();\n\n  var authCtx = useContext(AuthenticationContext);\n  var IsloggedIn = authCtx.loggedIn;\n\n  var _useState = useState([]),\n      chores = _useState[0],\n      setchores = _useState[1];\n\n  var _useState2 = useState(false),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(null),\n      error = _useState3[0],\n      setError = _useState3[1];\n\n  var fetchchoresHandler = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var response, data, loadedChores, key;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setIsLoading(true);\n            setError(null);\n            _context.prev = 2;\n            _context.next = 5;\n            return fetch(\"https://balmoja-49d90-default-rtdb.europe-west1.firebasedatabase.app/Chores.json\");\n\n          case 5:\n            response = _context.sent;\n\n            if (response.ok) {\n              _context.next = 8;\n              break;\n            }\n\n            throw new Error(\"Something new has gone wrong!\");\n\n          case 8:\n            _context.next = 10;\n            return response.json();\n\n          case 10:\n            data = _context.sent;\n            // console.log(data); //  data is here an object, Id = keys and\n            loadedChores = [];\n\n            for (key in data) {\n              loadedChores.push({\n                id: key,\n                descriptionData: data[key].descriptionData,\n                introData: data[key].introData // introData: data[key].introData\n\n              }); // console.log(data);\n            }\n\n            setchores(loadedChores);\n            _context.next = 19;\n            break;\n\n          case 16:\n            _context.prev = 16;\n            _context.t0 = _context[\"catch\"](2);\n            setError(_context.t0.message);\n\n          case 19:\n            setIsLoading(false);\n\n          case 20:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 16]]);\n  })), []);\n  useEffect(function () {\n    fetchchoresHandler();\n  }, [fetchchoresHandler]); // time to upload to the fire base db\n  // async function AddchoreHandler(choreDataObject) {\n  // \tconst responce = await fetch('https://balmoja-49d90-default-rtdb.europe-west1.firebasedatabase.app/names.json',\n  // \t{\n  // \t\tmethod:'POST',\n  // \t\tbody:JSON.stringify(choreDataObject),\n  // \t\theaders:{\n  // \t\t\t'Content-Type' : 'application/json'}\n  // \t\t}\n  // \t);\n  // \tconst data = await responce.json();\n  // \tconsole.log(data);\n  // }\n\n  var content = /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Found no chores.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 17\n  }, this);\n\n  if (chores.length > 0) {\n    content = /*#__PURE__*/_jsxDEV(ChoresList, {\n      chores: chores\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }, this);\n  }\n\n  if (error) {\n    content = /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }, this);\n  }\n\n  if (isLoading) {\n    content = /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FetchingFromDB, \"gUsNiz4zim7HJsBKGgzKm3bn8/s=\");\n\n_c = FetchingFromDB;\nexport default FetchingFromDB;\n/*\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\n\r\nimport ChoresList from '../companyregistration/CompanyList';\r\n\r\n\r\nfunction FetchingFromDB() {\r\n\t const [chores, setChore ] = useState([]);\r\n\t const [isLoading, setIsLoading] = useState(false);\r\n\t const [error, setError] = useState(null);\r\n\r\n\tconst fetchChoreHandler = useCallback(async () => {\r\n\t\tsetIsLoading(true);\r\n\t\tsetError(null);\r\n\t\ttry {\r\n\t\t\tconst response = await fetch('https://balmoja-49d90-default-rtdb.europe-west1.firebasedatabase.app/names.json');\r\n\t\t\tif (!response.ok) {\r\n\t\t\t  throw new Error('Something went wrong!');\r\n\t\t\t}\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\tconst disectedData = [];\r\n\r\n\t\t\tfor(const key in data){\r\n\t\t\t\tdisectedData.push({\r\n\t\t\t\t\tid:key,\r\n\t\t\t\t\tdescriptionData:data[key].descriptionData, \r\n\t\t\t\t\tintroData:data[key].introData,\r\n\t\t\t\t})\r\n\t\t\t}\t\r\n\r\n\t\t\tsetChore(disectedData);\r\n\t\t} \r\n\t\tcatch (error) {\r\n\t\t\tsetError(error.message);\r\n\t\t}\r\n\t\tsetIsLoading(false);\r\n\t}, []);\r\n\r\n\t// useEffect(\r\n\t// \t() => {\r\n\t// \t\tfetchChoreHandler();\r\n\t// \t},\r\n\t// \t[ fetchChoreHandler ]\r\n\t// );\r\n\r\n\r\n\tlet content = <p>Found no chores.</p>;\r\n\r\n\tif (chores.length > 0) {\r\n\t\tcontent = <ChoresList chores={chores} />;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\tcontent = <p>{error}</p>;\r\n\t}\r\n\r\n\tif (isLoading) {\r\n\t\tcontent = <p>Loading...</p>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\r\n\t\t\t<section>\r\n\t\t\t\t<button onClick={fetchChoreHandler}>Fetch Chores</button>\r\n\t\t\t</section>\r\n\t\t\t<section>{content}</section>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nexport default FetchingFromDB();\r\n\r\n\r\n\r\n\r\n//import React, { useState, useEffect, useCallback } from 'react';\r\n\r\nimport ChoresList from './components/ChoresList'\r\nimport Addchore from './components/Addchore';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n\t const [ chores, setchores ] = useState([]);\r\n\t const [isLoading, setIsLoading] = useState(false);\r\n\t const [error, setError] = useState(null);\r\n\r\n\tconst fetchchoresHandler = useCallback(async () => {\r\n\t\tsetIsLoading(true);\r\n\t\tsetError(null);\r\n\t\ttry {\t\t\r\n\t\t\tconst response = await fetch('https://balmoja-49d90-default-rtdb.europe-west1.firebasedatabase.app/names.json');\r\n\t\t\tif (!response.ok) {\r\n\t\t\t  throw new Error('Something new has gone wrong!');\r\n\t\t\t}\r\n\r\n\t\t\tconst data = await response.json();\r\n\t\t\t// console.log(data); //  data is here an object, Id = keys and  \r\n\r\n\t\t\tconst loadedChores = []; \r\n\r\n\t\t\tfor(const key in data){\r\n\t\t\t\tloadedChores.push({\r\n\t\t\t\t\tid:key,\r\n\t\t\t\t\ttitle: data[key].title, \r\n\t\t\t\t\topeningText: data[key].openingText, \r\n\t\t\t\t\treleaseDate: data[key].releaseDate\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\t\t\tsetchores(loadedChores);\r\n\t\t} catch (error) {\r\n\t\t\tsetError(error.message);\r\n\t\t}\r\n\t\tsetIsLoading(false);\r\n\t}, []);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tfetchchoresHandler();\r\n\t\t},\r\n\t\t[ fetchchoresHandler ]\r\n\t);\r\n\r\n\t// time to upload to the fire base db \r\n\t// async function AddchoreHandler(choreData) {\r\n\t// \tconst responce = await fetch('https://balmoja-49d90-default-rtdb.europe-west1.firebasedatabase.app/names.json', \r\n\t// \t{\r\n\t// \t\tmethod:'POST',\r\n\t// \t\tbody:JSON.stringify(choreData),\r\n\t// \t\theaders:{\r\n\t// \t\t\t'Content-Type' : 'application/json'}\t\t\r\n\t// \t\t}\r\n\t// \t);\r\n\t// \tconst data = await responce.json();\r\n\t// \tconsole.log(data); \r\n\t// }\r\n\r\n\tlet content = <p>Found no chores.</p>;\r\n\r\n\tif (chores.length > 0) {\r\n\t\tcontent = <ChoresList chores={chores} />;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\tcontent = <p>{error}</p>;\r\n\t}\r\n\r\n\tif (isLoading) {\r\n\t\tcontent = <p>Loading...</p>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<section>\r\n\t\t\t\t <Addchore onAddchore={AddchoreHandler} /> \r\n\t\t\t</section>\r\n\t\t\t<section>\r\n\t\t\t\r\n\t\t\t\t<button onClick={fetchchoresHandler}>Fetch chores</button>\r\n\t\t\t</section>\r\n\t\t\t<section>{content}</section>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\nexport default App;\r\n\r\n*/\n\n/*\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\n\r\nimport choresList from './components/choresList';\r\nimport Addchore from './components/Addchore';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n\tconst [ chores, setchores ] = useState([]);\r\n\t const [isLoading, setIsLoading] = useState(false);\r\n\t const [error, setError] = useState(null);\r\n\r\n\tconst fetchchoresHandler = useCallback(async () => {\r\n\t\tsetIsLoading(true);\r\n\t\tsetError(null);\r\n\t\ttry {\r\n\t\t\tconst response = await fetch('https://swapi.dev/api/films');\r\n\t\t\tif (!response.ok) {\r\n\t\t\t  throw new Error('Something went wrong!');\r\n\t\t\t}\r\n\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\tconst transformedchores = data.results.map((choreData) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tid: choreData.episode_id,\r\n\t\t\t\t\ttitle: choreData.director,\r\n\t\t\t\t\topeningText: choreData.opening_crawl,\r\n\t\t\t\t\treleaseDate: choreData.release_date\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\tsetchores(transformedchores);\r\n\t\t} catch (error) {\r\n\t\t\tsetError(error.message);\r\n\t\t}\r\n\t\tsetIsLoading(false);\r\n\t}, []);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tfetchchoresHandler();\r\n\t\t},\r\n\t\t[ fetchchoresHandler ]\r\n\t);\r\n\r\n\tfunction AddchoreHandler(chore) {\r\n\t\tconsole.log(chore);\r\n\t}\r\n\r\n\tlet content = <p>Found no chores.</p>;\r\n\r\n\tif (chores.length > 0) {\r\n\t\tcontent = <choresList chores={chores} />;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\tcontent = <p>{error}</p>;\r\n\t}\r\n\r\n\tif (isLoading) {\r\n\t\tcontent = <p>Loading...</p>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<section>\r\n\t\t\t\t<Addchore onAddchore={AddchoreHandler} />\r\n\t\t\t</section>\r\n\t\t\t<section>\r\n\t\t\t\t<button onClick={fetchchoresHandler}>Fetch chores</button>\r\n\t\t\t</section>\r\n\t\t\t<section>{content}</section>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n\r\n\r\n\r\n*/\n\nvar _c;\n\n$RefreshReg$(_c, \"FetchingFromDB\");","map":{"version":3,"sources":["A:/Projects/NextJs/Balemoja_Next/Balemoja/pages/FetchingFromDB.js"],"names":["React","useState","useEffect","useCallback","useContext","ChoresList","AuthenticationContext","FetchingFromDB","authCtx","IsloggedIn","loggedIn","chores","setchores","isLoading","setIsLoading","error","setError","fetchchoresHandler","fetch","response","ok","Error","json","data","loadedChores","key","push","id","descriptionData","introData","message","content","length"],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useContext } from \"react\";\r\n\r\nimport ChoresList from \"../components/dataFlow/choreregistreation/choreList\";\r\nimport AuthenticationContext from \"../components/Token/LogInAuthentication \";\r\n// import Addchoresform from '../choreregistreation/AddChoresForm';\r\n// import '../../App.css';\r\n\r\nfunction FetchingFromDB() {\r\n  const authCtx = useContext(AuthenticationContext);\r\n  const IsloggedIn = authCtx.loggedIn;\r\n\r\n  const [chores, setchores] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchchoresHandler = useCallback(async () => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await fetch(\r\n        \"https://balmoja-49d90-default-rtdb.europe-west1.firebasedatabase.app/Chores.json\"\r\n      );\r\n      if (!response.ok) {\r\n        throw new Error(\"Something new has gone wrong!\");\r\n      }\r\n\r\n      const data = await response.json();\r\n      // console.log(data); //  data is here an object, Id = keys and\r\n\r\n      const loadedChores = [];\r\n\r\n      for (const key in data) {\r\n        loadedChores.push({\r\n          id: key,\r\n          descriptionData: data[key].descriptionData,\r\n          introData: data[key].introData,\r\n          // introData: data[key].introData\r\n        });\r\n        // console.log(data);\r\n      }\r\n\r\n      setchores(loadedChores);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchchoresHandler();\r\n  }, [fetchchoresHandler]);\r\n\r\n  // time to upload to the fire base db\r\n  // async function AddchoreHandler(choreDataObject) {\r\n  // \tconst responce = await fetch('https://balmoja-49d90-default-rtdb.europe-west1.firebasedatabase.app/names.json',\r\n  // \t{\r\n  // \t\tmethod:'POST',\r\n  // \t\tbody:JSON.stringify(choreDataObject),\r\n  // \t\theaders:{\r\n  // \t\t\t'Content-Type' : 'application/json'}\r\n  // \t\t}\r\n  // \t);\r\n  // \tconst data = await responce.json();\r\n  // \tconsole.log(data);\r\n  // }\r\n\r\n  let content = <p>Found no chores.</p>;\r\n\r\n  if (chores.length > 0) {\r\n    content = <ChoresList chores={chores} />;\r\n  }\r\n\r\n  if (error) {\r\n    content = <p>{error}</p>;\r\n  }\r\n\r\n  if (isLoading) {\r\n    content = <p>Loading...</p>;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {/* <section>\r\n\t\t\t\t<Addchoresform onAddchoresform={AddchoreHandler} />\r\n\t\t\t</section> */}\r\n      <section>\r\n        {/* Refreshs the page */}\r\n        {/* <button onClick={fetchchoresHandler}>Fetch Chores</button> */}\r\n      </section>\r\n      {/* {authCtx.IsloggedIn &&  */}\r\n      <section>{content}</section>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default FetchingFromDB;\r\n\r\n/*\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\n\r\nimport ChoresList from '../companyregistration/CompanyList';\r\n\r\n\r\nfunction FetchingFromDB() {\r\n\t const [chores, setChore ] = useState([]);\r\n\t const [isLoading, setIsLoading] = useState(false);\r\n\t const [error, setError] = useState(null);\r\n\r\n\tconst fetchChoreHandler = useCallback(async () => {\r\n\t\tsetIsLoading(true);\r\n\t\tsetError(null);\r\n\t\ttry {\r\n\t\t\tconst response = await fetch('https://balmoja-49d90-default-rtdb.europe-west1.firebasedatabase.app/names.json');\r\n\t\t\tif (!response.ok) {\r\n\t\t\t  throw new Error('Something went wrong!');\r\n\t\t\t}\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\tconst disectedData = [];\r\n\r\n\t\t\tfor(const key in data){\r\n\t\t\t\tdisectedData.push({\r\n\t\t\t\t\tid:key,\r\n\t\t\t\t\tdescriptionData:data[key].descriptionData, \r\n\t\t\t\t\tintroData:data[key].introData,\r\n\t\t\t\t})\r\n\t\t\t}\t\r\n\r\n\t\t\tsetChore(disectedData);\r\n\t\t} \r\n\t\tcatch (error) {\r\n\t\t\tsetError(error.message);\r\n\t\t}\r\n\t\tsetIsLoading(false);\r\n\t}, []);\r\n\r\n\t// useEffect(\r\n\t// \t() => {\r\n\t// \t\tfetchChoreHandler();\r\n\t// \t},\r\n\t// \t[ fetchChoreHandler ]\r\n\t// );\r\n\r\n\r\n\tlet content = <p>Found no chores.</p>;\r\n\r\n\tif (chores.length > 0) {\r\n\t\tcontent = <ChoresList chores={chores} />;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\tcontent = <p>{error}</p>;\r\n\t}\r\n\r\n\tif (isLoading) {\r\n\t\tcontent = <p>Loading...</p>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\r\n\t\t\t<section>\r\n\t\t\t\t<button onClick={fetchChoreHandler}>Fetch Chores</button>\r\n\t\t\t</section>\r\n\t\t\t<section>{content}</section>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nexport default FetchingFromDB();\r\n\r\n\r\n\r\n\r\n//import React, { useState, useEffect, useCallback } from 'react';\r\n\r\nimport ChoresList from './components/ChoresList'\r\nimport Addchore from './components/Addchore';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n\t const [ chores, setchores ] = useState([]);\r\n\t const [isLoading, setIsLoading] = useState(false);\r\n\t const [error, setError] = useState(null);\r\n\r\n\tconst fetchchoresHandler = useCallback(async () => {\r\n\t\tsetIsLoading(true);\r\n\t\tsetError(null);\r\n\t\ttry {\t\t\r\n\t\t\tconst response = await fetch('https://balmoja-49d90-default-rtdb.europe-west1.firebasedatabase.app/names.json');\r\n\t\t\tif (!response.ok) {\r\n\t\t\t  throw new Error('Something new has gone wrong!');\r\n\t\t\t}\r\n\r\n\t\t\tconst data = await response.json();\r\n\t\t\t// console.log(data); //  data is here an object, Id = keys and  \r\n\r\n\t\t\tconst loadedChores = []; \r\n\r\n\t\t\tfor(const key in data){\r\n\t\t\t\tloadedChores.push({\r\n\t\t\t\t\tid:key,\r\n\t\t\t\t\ttitle: data[key].title, \r\n\t\t\t\t\topeningText: data[key].openingText, \r\n\t\t\t\t\treleaseDate: data[key].releaseDate\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\t\t\tsetchores(loadedChores);\r\n\t\t} catch (error) {\r\n\t\t\tsetError(error.message);\r\n\t\t}\r\n\t\tsetIsLoading(false);\r\n\t}, []);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tfetchchoresHandler();\r\n\t\t},\r\n\t\t[ fetchchoresHandler ]\r\n\t);\r\n\r\n\t// time to upload to the fire base db \r\n\t// async function AddchoreHandler(choreData) {\r\n\t// \tconst responce = await fetch('https://balmoja-49d90-default-rtdb.europe-west1.firebasedatabase.app/names.json', \r\n\t// \t{\r\n\t// \t\tmethod:'POST',\r\n\t// \t\tbody:JSON.stringify(choreData),\r\n\t// \t\theaders:{\r\n\t// \t\t\t'Content-Type' : 'application/json'}\t\t\r\n\t// \t\t}\r\n\t// \t);\r\n\t// \tconst data = await responce.json();\r\n\t// \tconsole.log(data); \r\n\t// }\r\n\r\n\tlet content = <p>Found no chores.</p>;\r\n\r\n\tif (chores.length > 0) {\r\n\t\tcontent = <ChoresList chores={chores} />;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\tcontent = <p>{error}</p>;\r\n\t}\r\n\r\n\tif (isLoading) {\r\n\t\tcontent = <p>Loading...</p>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<section>\r\n\t\t\t\t <Addchore onAddchore={AddchoreHandler} /> \r\n\t\t\t</section>\r\n\t\t\t<section>\r\n\t\t\t\r\n\t\t\t\t<button onClick={fetchchoresHandler}>Fetch chores</button>\r\n\t\t\t</section>\r\n\t\t\t<section>{content}</section>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\nexport default App;\r\n\r\n*/\r\n\r\n/*\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\n\r\nimport choresList from './components/choresList';\r\nimport Addchore from './components/Addchore';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n\tconst [ chores, setchores ] = useState([]);\r\n\t const [isLoading, setIsLoading] = useState(false);\r\n\t const [error, setError] = useState(null);\r\n\r\n\tconst fetchchoresHandler = useCallback(async () => {\r\n\t\tsetIsLoading(true);\r\n\t\tsetError(null);\r\n\t\ttry {\r\n\t\t\tconst response = await fetch('https://swapi.dev/api/films');\r\n\t\t\tif (!response.ok) {\r\n\t\t\t  throw new Error('Something went wrong!');\r\n\t\t\t}\r\n\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\tconst transformedchores = data.results.map((choreData) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tid: choreData.episode_id,\r\n\t\t\t\t\ttitle: choreData.director,\r\n\t\t\t\t\topeningText: choreData.opening_crawl,\r\n\t\t\t\t\treleaseDate: choreData.release_date\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\tsetchores(transformedchores);\r\n\t\t} catch (error) {\r\n\t\t\tsetError(error.message);\r\n\t\t}\r\n\t\tsetIsLoading(false);\r\n\t}, []);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tfetchchoresHandler();\r\n\t\t},\r\n\t\t[ fetchchoresHandler ]\r\n\t);\r\n\r\n\tfunction AddchoreHandler(chore) {\r\n\t\tconsole.log(chore);\r\n\t}\r\n\r\n\tlet content = <p>Found no chores.</p>;\r\n\r\n\tif (chores.length > 0) {\r\n\t\tcontent = <choresList chores={chores} />;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\tcontent = <p>{error}</p>;\r\n\t}\r\n\r\n\tif (isLoading) {\r\n\t\tcontent = <p>Loading...</p>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<section>\r\n\t\t\t\t<Addchore onAddchore={AddchoreHandler} />\r\n\t\t\t</section>\r\n\t\t\t<section>\r\n\t\t\t\t<button onClick={fetchchoresHandler}>Fetch chores</button>\r\n\t\t\t</section>\r\n\t\t\t<section>{content}</section>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n\r\n\r\n\r\n*/\r\n"]},"metadata":{},"sourceType":"module"}